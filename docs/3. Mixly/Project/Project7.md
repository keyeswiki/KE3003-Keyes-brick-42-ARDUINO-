### 项目七 按键传感器检测实验

**1.实验说明**

在这个套件中，有一个keyes brick按键传感器，它主要采用1个轻触开关，自带1个黄色按键帽。按下按键时，传感器信号端为低电平；松开按键时，信号端为高电平。

实验中，通过读取传感器上S端高低电平，判断传感器上按键是否按下；并且在串口监视器上显示测试结果。

**2.实验器材**

- keyes brick按键传感器*1

- keyes UNO R3开发板*1

- 传感器扩展板*1

- 3P双头XH2.54连接线*1

- USB线*1

**3.接线图**

![](media/image-20251023111632429.png)

**4.测试代码**

![](media/image-20251023111653546.png)

**5.代码说明**

1. 在![](media/image-20251023111731249.png)单元找到![](media/image-20251023111812843.png)，设置item初始变量为整数，并赋值为0，![](media/image-20251023111832174.png)。

2. 初始化设置波特率为9600。
3. 在 ![](media/image-20251023110243239.png)的单元找到![image-20251023111927309](media/image-20251023111927309.png)，管脚设置为3。将读取到D3读取到的数字值赋值给item，![](media/image-20251023112115928.png)
4. 在![](media/image-20251023112126968.png)单元内，找到![](media/image-20251023112156290.png)，点击![](media/image-20251023112209967.png)进行设置，可以在里面任意添加“如果否则 否则”逻辑单元，如下图。

![](media/image-20251023112247820.png)

实验中，只需要添加一个否则单元，设置完成后点击![](media/image-20251023112209967.png)，完成设置。

![](media/image-20251023112322664.png)

5. 代码逻辑是传感器感应到按键按下时，信号端为低电平，D3口为低电平，即item为0。在串口监视器显示对应的数字值和字符；否则（传感器感应到按键松开时），item为1，窗口监视器显示1和另外的字符。

![](media/image-20251023112609318.png)

**6.测试结果**

上传测试代码成功，利用USB线上电后，打开串口监视器，设置波特率为9600。串口监视器显示对应数据和字符。实验中，当传感器按下按键时，item为0，串口监视器显示“Press the button”字符；松开按键时，item为1，串口监视器显示“Loosen the button”字符，如下图。

![](media/image-20251023112649590.png)

